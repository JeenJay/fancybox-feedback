Основа взята из статьи http://xozblog.ru/2012/11/modal-windows/